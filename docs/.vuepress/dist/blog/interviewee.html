<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM事件流 | continous-study</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="record study process">
    <link rel="preload" href="https://github.com/a92560/continous-study/assets/css/0.styles.b7adb24c.css" as="style"><link rel="preload" href="https://github.com/a92560/continous-study/assets/js/app.6c513e7b.js" as="script"><link rel="preload" href="https://github.com/a92560/continous-study/assets/js/2.4824bcf7.js" as="script"><link rel="preload" href="https://github.com/a92560/continous-study/assets/js/6.41b10bb9.js" as="script"><link rel="prefetch" href="https://github.com/a92560/continous-study/assets/js/3.9f536595.js"><link rel="prefetch" href="https://github.com/a92560/continous-study/assets/js/4.7d5f245c.js"><link rel="prefetch" href="https://github.com/a92560/continous-study/assets/js/5.629fe7cb.js">
    <link rel="stylesheet" href="https://github.com/a92560/continous-study/assets/css/0.styles.b7adb24c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/https:/github.com/a92560/continous-study/" class="home-link router-link-active"><!----> <span class="site-name">continous-study</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/https:/github.com/a92560/continous-study/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  前端知识点
</a></div> <a href="https://github.com/a92560/continous-study" target="_blank" rel="noopener noreferrer" class="repo-link">
    My GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/https:/github.com/a92560/continous-study/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  前端知识点
</a></div> <a href="https://github.com/a92560/continous-study" target="_blank" rel="noopener noreferrer" class="repo-link">
    My GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/https:/github.com/a92560/continous-study/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html" aria-current="page" class="active sidebar-link">前端知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#dom事件流" class="sidebar-link">DOM事件流</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#造成现象（两者取大的值）" class="sidebar-link">造成现象（两者取大的值）</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#解决方法" class="sidebar-link">解决方法</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#符合条件的" class="sidebar-link">符合条件的</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#布局规则" class="sidebar-link">布局规则</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#基本数据类型" class="sidebar-link">基本数据类型</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#引用数据类型" class="sidebar-link">引用数据类型</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#prototype" class="sidebar-link">Prototype</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#原型继承" class="sidebar-link">原型继承</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#_1-函数执行window" class="sidebar-link">1. 函数执行window</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#_2-谁点谁就指向谁" class="sidebar-link">2.谁点谁就指向谁</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#_3-事件中，this指向点击的元素" class="sidebar-link">3.事件中，this指向点击的元素</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#_4-类中，this指向实例化对象" class="sidebar-link">4. 类中，this指向实例化对象</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#事件捕获" class="sidebar-link">事件捕获</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#事件冒泡" class="sidebar-link">事件冒泡</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#事件委托-动态创建的元素-事件无法添加进去" class="sidebar-link">事件委托(动态创建的元素 事件无法添加进去)</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#解释：外部函数里面声明内部函数，内部函数引用外部函数里的局部变量，当外部函数调用完以后，局部变量不被释放，可以一直使用" class="sidebar-link">解释：外部函数里面声明内部函数，内部函数引用外部函数里的局部变量，当外部函数调用完以后，局部变量不被释放，可以一直使用</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#常用属性" class="sidebar-link">常用属性</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#动画" class="sidebar-link">动画</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#要注意的问题" class="sidebar-link">要注意的问题</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#cookie" class="sidebar-link">cookie</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#session（一个标识）" class="sidebar-link">session（一个标识）</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#sessionstorage" class="sidebar-link">sessionStorage</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#localstorage" class="sidebar-link">localStorage</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#约定" class="sidebar-link">约定</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#闭包-2" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#最新提案" class="sidebar-link">最新提案</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#原型链继承" class="sidebar-link">原型链继承</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#借用构造函数继承" class="sidebar-link">借用构造函数继承</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#组合继承" class="sidebar-link">组合继承</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#dns解析" class="sidebar-link">DNS解析</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#发起tcp连接" class="sidebar-link">发起TCP连接</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#发起http连接" class="sidebar-link">发起HTTP连接</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#服务器处理并返回http报文" class="sidebar-link">服务器处理并返回HTTP报文</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#浏览器解析渲染页面" class="sidebar-link">浏览器解析渲染页面</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#xss" class="sidebar-link">XSS</a></li><li class="sidebar-sub-header"><a href="/https:/github.com/a92560/continous-study/blog/interviewee.html#csrf" class="sidebar-link">CSRF</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="dom事件流"><a href="#dom事件流" class="header-anchor">#</a> DOM事件流</h2> <p>Document -&gt; HTML -&gt; body -&gt; div (事件捕获) （从上往下）</p> <p>div 处于目标阶段</p> <p>div -&gt; body -&gt; HTML -&gt; Document(事件冒泡)</p> <p>addEventListener('click', funciton(){}, true) // 事件捕获  默认为false 即为事件冒泡</p> <p>事件捕获优先与事件冒泡</p> <p>同时声明（事件捕获先执行，再同时声明，外层先执行）</p> <p>冒泡则相反</p> <img src="https://github.com/a92560/continous-study/imgs/DOM_event.jpg" alt="DOM_event"> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.grandma</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token selector">.mother</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 250px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token selector">.daughter</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token selector">.baby</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>grandma<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    grandma奶奶
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mother<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      mother妈妈
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>daughter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        daughter女儿
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>baby<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          baby婴儿
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> grandma <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;grandma&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> mother <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;mother&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> daughter <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;daughter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> baby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;baby&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

  <span class="token keyword">function</span> <span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  baby<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> logName<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 冒泡</span>
  mother<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> logName<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 捕获</span>
  daughter<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> logName<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 捕获</span>
  grandma<span class="token punctuation">.</span>onclick <span class="token operator">=</span> logName<span class="token punctuation">;</span> <span class="token comment">// 冒泡</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
// log 
我是mother
我是daughter
我是baby
我是grandma
</code></pre></div><h1 id="盒模型"><a href="#盒模型" class="header-anchor">#</a> 盒模型</h1> <ol><li><p>标准盒模型 content-box</p> <p>width = content的width</p> <p>一个盒子的总宽度 = width + 2 * ( border + padding  + margin)</p></li> <li><p>IE盒模型</p> <p>width = content's width + 2 * (border + pading)</p> <p>一个盒子的总宽度 = width + 2 * margin</p></li></ol> <h1 id="外边距合并"><a href="#外边距合并" class="header-anchor">#</a> 外边距合并</h1> <h2 id="造成现象（两者取大的值）"><a href="#造成现象（两者取大的值）" class="header-anchor">#</a> 造成现象（两者取大的值）</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">#div1</span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">#div2</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="解决方法"><a href="#解决方法" class="header-anchor">#</a> 解决方法</h2> <ol><li>给父元素加个overflow: hidden</li> <li>父元素浮动</li> <li>子元素浮动</li> <li>父元素 position: absolute;</li> <li>子元素定位 position: absolute</li> <li>父元素 + border: 1px solid red;</li></ol> <h1 id="bfc-block-formatting-context-块级格式化上下文"><a href="#bfc-block-formatting-context-块级格式化上下文" class="header-anchor">#</a> BFC(Block formatting context) 块级格式化上下文</h1> <h2 id="符合条件的"><a href="#符合条件的" class="header-anchor">#</a> 符合条件的</h2> <ol><li>根元素 html</li> <li>float 不为none</li> <li>position 为 absolute 和 fixed</li> <li>display 为 inline-block table-cell table-caption flex inline-flex</li> <li>overflow 不为 visible</li></ol> <h2 id="布局规则"><a href="#布局规则" class="header-anchor">#</a> 布局规则</h2> <ol><li>计算BFC的高度时，浮动元素也参与计算</li> <li>隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之，外面的元素也不会影响到里面的元素</li></ol> <h1 id="重排-重绘"><a href="#重排-重绘" class="header-anchor">#</a> 重排 重绘</h1> <ol><li>重绘就是一个元素的外观被改变，但没有改变布局（宽高）的情况下发生。
<ol><li>如visibility, outline, 背景色</li></ol></li> <li>重排就是DOM的变化影响到了元素的几何属性（宽高），浏览器会重新计算元素的几何属性
<ol><li>改变窗口大小，文字大小，内容的改变</li></ol></li> <li>回流： 当浏览器发现某个部分发现了点变化影响了布局，需要重新渲染。</li></ol> <h1 id="显示隐藏"><a href="#显示隐藏" class="header-anchor">#</a> 显示隐藏</h1> <ol><li>display: none | block;  不占空间，没有事件</li> <li>opactity: 0 | 1; 占空间，有事件</li> <li>visibility: hidden | visible ; 占空间 没有事件</li></ol> <h1 id="js数据类型"><a href="#js数据类型" class="header-anchor">#</a> JS数据类型</h1> <h2 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h2> <ol><li>number</li> <li>string</li> <li>boolean</li> <li>null</li> <li>undefined</li> <li>symbol</li> <li>bigint</li></ol> <p>存储在栈内存（不会有引用关系）</p> <h2 id="引用数据类型"><a href="#引用数据类型" class="header-anchor">#</a> 引用数据类型</h2> <ol><li>function</li> <li>object</li></ol> <p>值具体存储在堆内存，然后在栈内存里面存着一个指向堆内存值得地址（会有引用关系）</p> <p>判断 array 和 object</p> <p>arr.constructor == Array =&gt; arr.constructor 实际上是 arr.__ proto __.constructor 然而 arr.proto 指向 Array.prototype</p> <p>obj.constructor == Object</p> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <div class="language- extra-class"><pre><code>1. typeof null =&gt; &quot;object&quot;
2. typeof arr =&gt; &quot;object&quot;
3. typeof {} =&gt; &quot;object&quot;
4. typeof function test(){} =&gt; &quot;function&quot;
</code></pre></div><p>arr instanceof Array : 右边变量的prototype在不在左边变量的原型链上；</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 因为Array 是 Object的子类</span>
</code></pre></div><h2 id="prototype"><a href="#prototype" class="header-anchor">#</a> Prototype</h2> <p>解释： prototype 原型对象，定义在原型对象下的所有属性和方法能被所有实例化对象共享</p> <h1 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h1> <h2 id="原型继承"><a href="#原型继承" class="header-anchor">#</a> 原型继承</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>
<span class="token comment">// 在prototype声明的方法只会创建一次，在所有实例中共享。</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;is eating&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 继承属性 在构造函数中 .call() 继承属性</span>
<span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自然执行, this 指向 Window</span>
    <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 原型对象 = new 父类的实例化对象</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Cat.prototype.constructor = function Animal() 会出现这个问题</span>
<span class="token comment">// 修正</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">.</span>constructor

<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token string">&quot;kitty&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> cat<span class="token punctuation">)</span>
</code></pre></div><h1 id="this指向问题"><a href="#this指向问题" class="header-anchor">#</a> this指向问题</h1> <h2 id="_1-函数执行window"><a href="#_1-函数执行window" class="header-anchor">#</a> 1. 函数执行window</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="_2-谁点谁就指向谁"><a href="#_2-谁点谁就指向谁" class="header-anchor">#</a> 2.谁点谁就指向谁</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_3-事件中，this指向点击的元素"><a href="#_3-事件中，this指向点击的元素" class="header-anchor">#</a> 3.事件中，this指向点击的元素</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code>div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-类中，this指向实例化对象"><a href="#_4-类中，this指向实例化对象" class="header-anchor">#</a> 4. 类中，this指向实例化对象</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h1> <h2 id="事件捕获"><a href="#事件捕获" class="header-anchor">#</a> 事件捕获</h2> <p>从外往内</p> <h2 id="事件冒泡"><a href="#事件冒泡" class="header-anchor">#</a> 事件冒泡</h2> <p>从内往外</p> <p>(默认捕获的先执行)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;111&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;222&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 会覆盖</span>
div<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>target <span class="token comment">// =&gt; 点击谁 谁就是事件源</span>
    <span class="token keyword">this</span> <span class="token comment">// =&gt; 谁的事件 谁就是this</span>
    e<span class="token punctuation">.</span>currentTarget <span class="token comment">// =&gt; this</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止冒泡</span>
    e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// IE 阻止冒泡</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止默认行为</span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// IE阻止默认行为</span>
    e<span class="token punctuation">.</span>keyCode <span class="token comment">// 键码</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="事件委托-动态创建的元素-事件无法添加进去"><a href="#事件委托-动态创建的元素-事件无法添加进去" class="header-anchor">#</a> 事件委托(动态创建的元素 事件无法添加进去)</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    click
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> oBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#btn&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> aLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#ul&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> aLi<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aLi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

oBtn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> oLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
    oLi<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    oUl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oLi<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 事件委托</span>

<span class="token comment">// 点击子元素的时候  通过事件冒泡 会传到父元素oUl身上 </span>
oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 判断点击的时候是不是li</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">'LI'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// tagName 大写</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h1> <h2 id="解释：外部函数里面声明内部函数，内部函数引用外部函数里的局部变量，当外部函数调用完以后，局部变量不被释放，可以一直使用"><a href="#解释：外部函数里面声明内部函数，内部函数引用外部函数里的局部变量，当外部函数调用完以后，局部变量不被释放，可以一直使用" class="header-anchor">#</a> 解释：外部函数里面声明内部函数，内部函数引用外部函数里的局部变量，当外部函数调用完以后，局部变量不被释放，可以一直使用</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> aLi <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> aLi<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// var 改成 let</span>
    <span class="token comment">// for循环执行完了</span>
    <span class="token comment">// i 已经为 3了</span>
    aLi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 保存每次绑定事件时的i</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        aLi<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="css3"><a href="#css3" class="header-anchor">#</a> CSS3</h1> <h2 id="常用属性"><a href="#常用属性" class="header-anchor">#</a> 常用属性</h2> <p>border-radius box-shadow background-size: cover/contain</p> <h2 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h2> <ol><li><p>transform</p> <ol><li>rotate(30deg)</li> <li>translate()</li> <li>scale()</li> <li>skew</li></ol></li> <li><p>transition: width 2s ease 3s; prop duration-time kind delay-time // 属性有变化</p></li> <li><p>@keyframes run {</p> <p>​	0%{</p> <p>​	}</p> <p>}</p></li> <li><p>animation  // 直接触发</p></li> <li><p>flex布局</p> <ol><li>flex-grow: Number 占多少份</li> <li>justify-content: 主轴对齐方式</li> <li>align-items: 交叉轴对齐方式</li></ol></li></ol> <h1 id="html5"><a href="#html5" class="header-anchor">#</a> HTML5</h1> <ol><li>header</li> <li>footer</li> <li>aside</li> <li>nav</li> <li>canvas</li></ol> <h1 id="深克隆"><a href="#深克隆" class="header-anchor">#</a> 深克隆</h1> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token punctuation">{</span>
        name<span class="token operator">:</span> <span class="token string">&quot;Darren&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person2 <span class="token operator">=</span> person

person2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;lisi&quot;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;person.name&quot;</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 'lisi'</span>

<span class="token keyword">function</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果target[key] 是一个对象</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result 
<span class="token punctuation">}</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// 浅克隆</span>
warings<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token number">1.</span>他无法实现对函数 、RegExp等特殊对象的克隆
    <span class="token number">2.</span>会抛弃对象的constructor<span class="token punctuation">,</span>所有的构造函数会指向Object
    <span class="token number">3.</span>对象有循环引用<span class="token punctuation">,</span>会报错
<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">clone</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="要注意的问题"><a href="#要注意的问题" class="header-anchor">#</a> 要注意的问题</h2> <ol><li>JSON克隆不支持函数，引用，undefined，Date，RegExp等</li> <li>要考虑Date、RegExp、Function等特殊方式的克隆</li> <li>要不要克隆__proto__ 如果要克隆，浪费内存。 如果不克隆，就不是深克隆</li></ol> <h1 id="存储"><a href="#存储" class="header-anchor">#</a> 存储</h1> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h2> <ol><li>大小限制为4kb，可以主动设置过期时间</li> <li>每次http请求都会携带cookie，增加服务端压力</li> <li>还可以单纯在某个域名下限制cookie生效</li> <li>同源才能访问cookie</li></ol> <h2 id="session（一个标识）"><a href="#session（一个标识）" class="header-anchor">#</a> session（一个标识）</h2> <ol><li>保存在服务端</li></ol> <h2 id="sessionstorage"><a href="#sessionstorage" class="header-anchor">#</a> sessionStorage</h2> <ol><li><p>仅在当前浏览器窗口关闭前有效，不在不同的浏览器窗口共享</p></li> <li><p>不会放在请求头里，减少请求量</p></li></ol> <h2 id="localstorage"><a href="#localstorage" class="header-anchor">#</a> localStorage</h2> <ol><li>大小限制为5M</li> <li>不主动清除会一直保留</li></ol> <p>$(document).ready(fn) // =&gt; 页面结构加载完  DOMContentLoaded</p> <p>window.onload = fn // =&gt; 所有资源加载完</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//添加load事件</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;load执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//添加DOMContentLoaded事件</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;domContentLoad执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="es6私有变量"><a href="#es6私有变量" class="header-anchor">#</a> ES6私有变量</h1> <h2 id="约定"><a href="#约定" class="header-anchor">#</a> 约定</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Example</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_private <span class="token operator">=</span> <span class="token string">&quot;private&quot;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_private
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// private</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>_private<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// private</span>
</code></pre></div></li> <li><p>优点</p> <ol><li>写法简单</li> <li>调试方便</li> <li>兼容性好</li></ol></li> <li><p>缺点</p> <ol><li>外部可以访问和修改</li> <li>语言没有配合的机制， 如 for in 语句会将所有属性都枚举出来</li> <li>命名冲突</li></ol></li></ol> <h2 id="闭包-2"><a href="#闭包-2" class="header-anchor">#</a> 闭包</h2> <ol><li><p>实现1</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Example</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _private <span class="token operator">=</span> <span class="token string">''</span>
        _private <span class="token operator">=</span> <span class="token string">'private'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _private
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// private</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>_private<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div></li> <li><p>优点</p> <ol><li>无命名冲突</li> <li>外部无法访问和修改</li></ol></li> <li><p>缺点</p> <ol><li>constructor的逻辑变得复杂，代码组织不清楚</li> <li>方法存在于实例上，而非原型上，子类也无法使用super调用。</li> <li>构建增加一点点开销</li></ol></li> <li><p>实现2</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Example <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _private <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">class</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _private <span class="token operator">=</span> <span class="token string">'private'</span>
        <span class="token punctuation">}</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _privete
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Example
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// private</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>_private<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div></li> <li><p>优点</p> <ol><li>无命名冲突</li> <li>外部无法访问和修改</li></ol></li> <li><p>缺点</p> <ol><li>写法有一点复杂</li> <li>构建增加一点点开销</li></ol></li></ol> <h2 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> Example <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _private <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'private'</span><span class="token punctuation">)</span>
    
    <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">[</span>_private<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'private'</span>
        <span class="token punctuation">}</span>
        <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>_private<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Example
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//private</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div></li> <li><p>优点</p> <ol><li>无命名冲突</li> <li>外部无法访问和修改</li> <li>无性能损失</li></ol></li> <li><p>缺点</p> <ol><li>写法稍微复杂</li> <li>兼容性也还良好</li></ol></li></ol> <h2 id="最新提案"><a href="#最新提案" class="header-anchor">#</a> 最新提案</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  #x<span class="token punctuation">;</span>
  #y<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>#y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">equals</span><span class="token punctuation">(</span><span class="token parameter">point</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#x <span class="token operator">===</span> point<span class="token punctuation">.</span>#x <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#y <span class="token operator">===</span> point<span class="token punctuation">.</span>#y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div></li></ol> <h1 id="继承-2"><a href="#继承-2" class="header-anchor">#</a> 继承</h1> <h2 id="原型链继承"><a href="#原型链继承" class="header-anchor">#</a> 原型链继承</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Linlin'</span><span class="token punctuation">,</span> <span class="token string">'Kevin'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
child1<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Darren2&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>names<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ol><li>问题
<ol><li>引用类型的属性被所有实例共享</li></ol></li></ol></li></ol> <h2 id="借用构造函数继承"><a href="#借用构造函数继承" class="header-anchor">#</a> 借用构造函数继承</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Kevin'</span><span class="token punctuation">,</span> <span class="token string">'Darren'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
child1<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Linlin&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">[</span><span class="token string">'Kevin'</span><span class="token punctuation">,</span> <span class="token string">'Darren'</span><span class="token punctuation">,</span> <span class="token string">'Linlin'</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">[</span><span class="token string">'Kevin'</span><span class="token punctuation">,</span> <span class="token string">'Darren'</span><span class="token punctuation">]</span>
child2<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;Linlin1&quot;</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>优点</p> <ol><li>避免了引用类型的属性被所有实例共享</li> <li>可以在Child和Parent之间传参</li> <li>Parent.call(this, a, b)</li></ol></li> <li><p>缺点</p> <ol><li>方法都在构造函数中定义，每次创建实例都会创建一边方法。</li></ol></li></ol> <h2 id="组合继承"><a href="#组合继承" class="header-anchor">#</a> 组合继承</h2> <ol><li><p>实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h1 id="dns域名解析过程"><a href="#dns域名解析过程" class="header-anchor">#</a> DNS域名解析过程</h1> <ol><li>检查浏览器自身缓存中有没有解析过的这个域名对应的IP地址</li> <li>如果浏览器缓存没有命中，c盘下的hosts文件来设置，如果你在这里指定了一个域名对应的ip地址，那么浏览器首先会使用这个ip地址</li> <li>如果没有命中，请求本地域名服务器来解析这个域名，在城市的某个角落。性能较好。</li> <li>如果LDNS没有命中，直接跳到ROOT SERVER 域名服务器请求解析。</li> <li>根域名服务器返回给LDNS一个所查询的主域名服务器地址</li> <li>此时LDNS再发送请求给上一步返回的gLTD</li> <li>此时请求的gLTD查找并返回这个域名对应的Name Server的地址，这个Name Server就是网站注册的域名服务器。</li> <li>Name Server根据映射关系表找到目标ip，返回给LDNS</li> <li>LDNS缓存这个域名和对应的ip</li> <li>LDNS把解析的结果返回给用户</li></ol> <h1 id="url的输入到浏览器解析的一系列事件"><a href="#url的输入到浏览器解析的一系列事件" class="header-anchor">#</a> URL的输入到浏览器解析的一系列事件</h1> <h2 id="dns解析"><a href="#dns解析" class="header-anchor">#</a> DNS解析</h2> <ol><li>检查浏览器自身缓存中有没有解析过的这个域名对应的IP地址</li> <li>如果浏览器缓存没有命中，c盘下的hosts文件来设置，如果你在这里指定了一个域名对应的ip地址，那么浏览器首先会使用这个ip地址</li> <li>如果没有命中，请求本地域名服务器来解析这个域名，在城市的某个角落。性能较好。</li> <li>如果LDNS没有命中，直接跳到ROOT SERVER 域名服务器请求解析。</li> <li>根域名服务器返回给LDNS一个所查询的主域名服务器地址</li> <li>此时LDNS再发送请求给上一步返回的gLTD</li> <li>此时请求的gLTD查找并返回这个域名对应的Name Server的地址，这个Name Server就是网站注册的域名服务器。</li> <li>Name Server根据映射关系表找到目标ip，返回给LDNS</li> <li>LDNS缓存这个域名和对应的ip</li> <li>LDNS把解析的结果返回给用户</li></ol> <h2 id="发起tcp连接"><a href="#发起tcp连接" class="header-anchor">#</a> 发起TCP连接</h2> <ol><li>SYN(synchronous建立联机)</li> <li>ACK(acknowledgement确认)</li> <li>PSH(push传送)</li> <li>FIN(finish结束)</li> <li>RST(reset重置)</li> <li>Sequence Number(顺序号码)</li> <li>Acknowledge Number(确认号码)</li></ol> <ul><li><p>三次握手</p> <ol><li><p>第一次握手，客户端发送syn包（Seq = x）到服务器，并进入SYN_SEND状态，等待服务器确认；</p></li> <li><p>第二次握手，服务器收到syn包，必须确认的客户的SYN（ack = x + 1），同时自己也发送一个SYN包（Seq = y），即SYN + ACK包，此时服务器进入SYN_RECV状态。</p></li> <li><p>客户端收到服务端的SYN + ACK 包，向服务器发送确认包ACK （Seq = y + 1）, 此包发送完毕，客户端和服务端进入ESTABLISHED状态，完成三次握手</p></li> <li><p>为什么会采用三次握手</p></li> <li><p>建立连接的过程是利用客户服务端模式，假设主机A为客户端，主机B为服务端。</p> <p>采用三次握手的原因是为了防止失效的连接请求报文端突然又传送到主机B。因而产生错误。实现的连接请求报文是指：主机A发出的请求连接请求没有收到主机B的确认，于是经过一段确认时间后，主机A又重新向主机B发送请求连接，且建立成功，顺序完成数据传输。考虑这样一种特殊情况，主机A发送第一次的请求连接并没有丢失，而是因为网络节点导致延迟达到主机B，主机B以为是主机A又发起的新连接，于是主机B同意连接，并向主机A发回确认，但是此时主机A根本不理会，主机B就一直在等待主机A发送数据，导致主机B的资源浪费。</p></li></ol> <h2 id="发起http连接"><a href="#发起http连接" class="header-anchor">#</a> 发起HTTP连接</h2> <ol><li><p>请求报文</p> <ol><li><p>请求行： GET /index.html HTTP/1.1</p> <ol><li>主要包括请求方法，url，http协议</li></ol></li> <li><p>请求头：（key,value形式）</p> <ol><li><p>User-Agent：产生请求的浏览器类型。</p></li> <li><p>Accept：客户端可识别的内容类型列表。</p></li> <li><p>Host：主机地址</p> <p>​      <img src="C:\Users\Darren\Desktop\16a634c93ecabe3a.png" alt="16a634c93ecabe3a" style="zoom:300%;"></p></li></ol></li> <li><p>请求正文，数据存储</p></li></ol></li> <li><p>HTTP缓存</p> <ol><li><p>缓存的规则</p> <ol><li><p>强制缓存：当缓存数据库中有客户端需要的数据，客户端直接将数据从其中拿出来使用（当前数据未失效），当缓存服务器没有需要的数据时，客户端才会向服务端请求。</p></li> <li><p>协商缓存：客户端会先从缓存数据库拿到一个缓存的标识，然后向服务端验证标识是否失效，如果没有失效服务端会返回304，这样客户端可以直接去缓存数据库拿出数据。如果失效，服务端返回新的数据</p></li> <li><p>强制缓存的优先级高于协商缓存，如果两种协商皆存在，且强制缓存命中目标，则协商缓存不再验证标识。</p></li> <li><p>如何判断缓存是否失效。</p></li> <li><p>对于强制缓存，服务器响应的header字段中会用两个字段来表明----Expires 和 Cache-Control。</p> <ol><li>Expires: Expires的值为服务端返回的数据到期时间。当再次请求时的请求时间小于返回的此时间，则直接使用缓存数据。由于服务端时间和客户端时间可能有误差，这也将导致缓存命中的误差，另一方面，Expires是HTTP1.0的产物，故现在大多数使用Cache-Control替代。</li> <li>Cache-Control: Cache-Control 有很多属性，不同的属性代表的意义也不同
<ol><li>private: 客户端可以缓存</li> <li>public： 客户端和代理服务器都可以缓存</li> <li>max-age=t: 缓存内容将在t秒后过期</li> <li>no-cache: 需要使用协商缓存来验证缓存数据</li> <li>no-store: 所有内容都不会缓存。</li></ol></li></ol></li> <li><p>协商缓存需要进行对比判断是否可以使用缓存。浏览器第一次请求数据时，服务器会将缓存标识与数据一起响应给客户端，客户端将它们备份至缓存中，再次请求时，客户端会将缓存中的标识发给服务器，服务器根据此标识判断，若未失效，返回304状态码，浏览器拿到此状态码可以直接使用缓存数据。</p> <ol><li><p>Last-Modified: 服务器在响应请求时，会告诉浏览器资源的最后修改时间</p> <ol><li>if-Modified-Since: 浏览器再次请求服务器的时候，请求头会包含此字段，后面跟着在缓存中获得的最后修改时间，服务端收到此请求头发现有if-Modified-Since，则与被请求资源的最后修改时间进行对比，如果一致，返回304和响应文报头。
<ol><li>如果被修改，返回新的文件。200；OK</li> <li>如果没有被修改，服务器返回304 Not Modified</li></ol></li> <li>if-Unmodified-Since: 从某个时间段算起，是否文件没有被修改</li></ol></li> <li><p>缺点： 如果在服务器上，一个资源被修改了，但其实际内容根本没发生改变。</p> <p>会因为Last-Modified时间匹配不上而返回了整个文件给客户端。</p></li> <li><p>为了解决这个问题，HTTP1.1推出了Etag，服务器响应请求时，通过此字段告诉浏览器当前资源在服务器生成的唯一标识（生成规则由服务器决定）</p> <ol><li>If-None-Match: 再次请求服务器时，浏览器的请求报文头部会包含此字段，后面的值为在缓存中获取的标识，服务器收到此次报文后发现if-None-Match则与被请求资源的唯一标识进行对比。
<ol><li>不同：说明资源被改动过，则响应整个资源内容，返回状态码200.</li> <li>相同：说明资源没有被修改过。</li></ol></li> <li>缺点：实际应用中由于Etag的计算是使用算法来得出的，而算法会占用服务端计算的资源，所有的服务端资源都是宝贵的，所以很少使用Etag了。</li></ol></li></ol></li> <li><p>优点：</p> <ol><li>减少了冗余的数据传递，节省了宽带流量</li> <li>减少了服务器的负担，大大提高了网站性能</li> <li>加快了客户端加载网页的数据，这也正是HTTP缓存属于客户端缓存的原因</li></ol></li></ol></li></ol></li></ol></li></ul> <h2 id="服务器处理并返回http报文"><a href="#服务器处理并返回http报文" class="header-anchor">#</a> 服务器处理并返回HTTP报文</h2> <h2 id="浏览器解析渲染页面"><a href="#浏览器解析渲染页面" class="header-anchor">#</a> 浏览器解析渲染页面</h2> <ol><li><p>状态码</p></li> <li><p>响应报头</p> <ol><li>Server:</li> <li>Connection:</li> <li>Accept:</li></ol></li> <li><p>响应文</p> <ol><li><p>服务器请求的HTML,CSS,JS文件就放在这里面</p> <ol><li>解析HTML形成DOM树</li> <li>解析CSS形成CSSOM树</li> <li>合并DOM树和CSSOM树形成渲染树</li> <li>浏览器开始渲染并绘制页面，这个过程涉及两个比较重要的概念回流和重绘。DOM结点都是以盒模型形式存在，需要浏览器去计算位置和宽度等，这个过程就是回流，等到页面的宽高，大小，颜色等属性确定下来后，浏览器开始绘制内容，这个过程就做重绘。浏览器刚打开页面一定要经过这两个过程的，但是这两个过程非常耗性能的，所以我们要尽量减少页面的回流和重绘</li></ol></li> <li><p>回流： 当Render Tree中部分或全部元素的尺寸，结构或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程成为回流</p> <ol><li>会导致回流的操作
<ol><li>页面首次渲染</li> <li>浏览器窗口大小发生改变</li> <li>元素尺寸或位置发生改变</li> <li>元素内容发生变化（文字数量或图片大小）</li> <li>元素字体大小变化</li> <li>添加或者删除可见的DOM元素</li> <li>激活CSS伪类</li> <li>查询某些属性或者调用某些方法</li></ol></li> <li>一些常用且会导致回流的方法
<ol><li>clientWidth,clientHeight,clientTop</li> <li>offSetWidth</li> <li>scrollWidth</li> <li>scrollTo()</li></ol></li></ol></li> <li><p>重绘</p> <ol><li>当页面中元素的样式不影响它在文档流中的位置的时候（例如：color，background-color，visibility），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘</li></ol></li> <li><p>优化：</p> <ol><li><p>CSS</p> <ol><li>尽量避免使用table布局</li> <li>尽可能在DOM树的最末端改变class</li> <li>避免设置多层内联样式</li> <li>将动画效果应用到position为absolute或者fixed的元素上</li> <li>尽量避免使用css表达式</li></ol></li> <li><p>JS</p> <ol><li>不内嵌JavaScript: medium (仅对网站有效) 避免在body中间嵌入多个JavaScript代码，将JavaScript代码重新集中到外部文件中，放在或页面末尾（之前）。</li></ol> <p>为什么：</p> <p>​	将JavaScript嵌入代码直接放在中可能会降低页面速度，因为它在构建DOM时会加载。最好的选择是使用async 或 defer的外部文件来避免阻塞DOM渲染。另一种选择是在中放置一些脚本。大多数时候是需要在DOM进入主处理之前加载的分析代码或小脚本。</p> <p>怎么做：</p> <p>​	确保使用async或defer加载所有script文件，并准确地在中加载代码。</p> <ol start="2"><li>非阻塞JavaScript： high 使用defer属性或使用async来异步加载JavaScript文件。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Defer Attribute <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script defer src<span class="token operator">=</span><span class="token string">&quot;foo.js&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Async Attribute <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script <span class="token keyword">async</span> src<span class="token operator">=</span><span class="token string">&quot;foo.js&quot;</span><span class="token operator">&gt;</span>
为什么：

​	JavaScript阻止<span class="token constant">HTML</span>文档的正常解析，因此当解析器到达<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>标记时（特别是在内），它会停止解析并且执行脚本。如果您的脚本位于页面顶部，则强烈建议添加<span class="token keyword">async</span>和defer，但如果在标记之前加载，没有太大影响。但是，使用这些属性来避免性能问题是一种很好的做法。

怎么做：

​	添加<span class="token keyword">async</span>（如果脚本不依赖于其他脚本）或defer（如果脚本依赖或依赖于异步脚本）作为script脚本标记的属性。 如果有小脚本，可以在异步脚本上方使用内联脚本。

<span class="token number">1.</span> async <span class="token operator">:</span> 加载脚本和渲染后续文档元素并行进行，脚本加载完成后，暂停html解析，立即解析js脚本

   defer <span class="token operator">:</span> 加载脚本和渲染后续文档元素并行进行，但脚本的执行会等到 html 解析完成后执行

<span class="token number">2.</span> prefetch ：其利用浏览器空闲时间来下载或预取用户在不久的将来可能访问的文档。<span class="token operator">&lt;</span>link href<span class="token operator">=</span><span class="token string">&quot;/js/xx.js&quot;</span> rel<span class="token operator">=</span><span class="token string">&quot;prefetch&quot;</span><span class="token operator">&gt;</span>

   preload <span class="token operator">:</span> 可以指明哪些资源是在页面加载完成后即刻需要的，浏览器在主渲染机制介入前就进行预加载，这一机制使得资源可以更早的得到加载并可用，且更不易阻塞页面的初步渲染，进而提升性能。<span class="token operator">&lt;</span>link href<span class="token operator">=</span><span class="token string">&quot;/js/xxx.js&quot;</span> rel<span class="token operator">=</span><span class="token string">&quot;preload&quot;</span> <span class="token keyword">as</span><span class="token operator">=</span><span class="token string">&quot;script&quot;</span><span class="token operator">&gt;</span> 需要 <span class="token keyword">as</span> 指定资源类型，目前可用的属性类型有如下：

   audio<span class="token operator">:</span> 音频文件。
   document<span class="token operator">:</span> 一个将要被嵌入到<span class="token operator">&lt;</span>frame<span class="token operator">&gt;</span>或<span class="token operator">&lt;</span>iframe<span class="token operator">&gt;</span>内部的<span class="token constant">HTML</span>文档。
   embed<span class="token operator">:</span> 一个将要被嵌入到<span class="token operator">&lt;</span>embed<span class="token operator">&gt;</span>元素内部的资源。
   fetch<span class="token operator">:</span> 那些将要通过fetch和<span class="token constant">XHR</span>请求来获取的资源，比如一个ArrayBuffer或<span class="token constant">JSON</span>文件。
   font<span class="token operator">:</span> 字体文件。
   image<span class="token operator">:</span> 图片文件。
   object<span class="token operator">:</span> 一个将会被嵌入到<span class="token operator">&lt;</span>embed<span class="token operator">&gt;</span>元素内的文件。
   script<span class="token operator">:</span> JavaScript文件。
   style<span class="token operator">:</span> 样式表。
   track<span class="token operator">:</span> WebVTT文件。
   worker<span class="token operator">:</span> 一个JavaScript的web worker或shared worker。
   video<span class="token operator">:</span> 视频文件。
</code></pre></div></li></ol></li></ol></li></ol> <h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <div class="language- extra-class"><pre><code>1. http特点
  	1. 无状态：协议对客户端没有状态存储，对事物处理没有&quot;记忆&quot;能力，比如访问一个网站需要反复进行操作
  	2. 无连接：HTTP/1.1之前，每次请求之前都要三次握手四次挥手
  	3. 客户端请求服务端响应
  	4. 简单快速，灵活
  	5. 通信使用明文
</code></pre></div><h1 id="seq-序列号-ack-确认号-syn-同步序列号"><a href="#seq-序列号-ack-确认号-syn-同步序列号" class="header-anchor">#</a> Seq(序列号),Ack(确认号),Syn(同步序列号)</h1> <h1 id="http2-0"><a href="#http2-0" class="header-anchor">#</a> HTTP2.0</h1> <ol><li>请求头压缩算法HPACK（ 通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小）</li> <li>新的二进制格式</li> <li>多路复用（信道复用）</li> <li>服务端推送</li></ol> <h1 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h1> <ol><li>http报文传输过程中是文明的，可以通过抓包的方式看到报文内容，这就暴露了一个安全问题，易被劫持篡改。</li> <li>特点：
<ol><li>内容加密</li> <li>验证身份</li> <li>保护数据完整性</li></ol></li> <li>为了解决这个问题，有了TLS，https = http + TLS</li> <li>TLS：安全传输层协议，用于在两个通信应用程序之间提供保密性和数据完整性。该协议由两层组成，TLS记录协议和TLS握手协议</li> <li>TLS利用非对称加密演算来对通信方做身份认证，之后交换对称密钥作为会谈密钥。</li> <li>因此https分为两个阶段
<ol><li>通过非对称加密确认对方身份是否合法，若合法则生成会话密钥（这一步是核心）</li> <li>报文的在发送前，先用会话密钥进行对称加密，再传输</li></ol></li> <li>TLS握手步骤如下：
<ol><li>客户端请求服务器建立SSL连接，服务端并向客户端发送一个随机数randomC和CA机构颁发的证书</li> <li>客户端对证书进行验证，验证通过后，生成一个随机数randomS，用公钥对randomS加密，同时用randomS生成一段签名，发送给服务端。</li> <li>服务端接收到后，用私钥来对密文解密，用解密后的key生成签名，并与客户端传来的签名进行比较，检验通过后，生成一个随机数randomP，并用私钥加密，还有随机数生成的hash值，一并发给客户端。</li> <li>客户端用公钥解密，并检验hash值通过后，两端利用randomC，randomS，randomP通过一定的算法生成session Key， 后续的报文将通过session Key对称加密进行传输。</li></ol></li> <li>验证对方身份的时候使用非对称加密，通信的时候使用对称加密。
<ol><li>客户端向服务端发起https请求。发送的信息主要是一个随机数1和客户端支持的密码套件（支持的加密算法和TLS版本）。
<ol><li>密码套件决定了本次连接采用哪一种<strong>对称加密算法（ DES，AES ）</strong>，<strong>密钥协商算法</strong>，HMAC算法。</li> <li>密钥协商算法：
<ol><li>RSA
<ol><li>客户端向服务器发起请求连接，服务器发送RSA密钥对应的公钥给客户端</li> <li>客户端通过生成随机数生成器生成一个预备主密钥，用服务器的公钥加密并发送给服务端</li> <li>服务端解密预备主密钥，加入能够正确解密，则说明服务器与客户端共同协商出一个预备主密钥</li></ol></li> <li>DH算法
<ol><li>静态</li> <li>临时（EDH）可以预防前向安全性</li></ol></li> <li></li></ol></li></ol></li> <li>服务端响应请求，发送证书和随机数2和协商出的密码套件</li> <li>客户端解析证书，由客户端的TLS完成，验证步骤主要如下
<ol><li>首先验证公钥是否有效</li> <li>还有颁发机构CA和过期时间</li> <li>证书的持有者</li> <li>签名</li> <li>验证通过的话，客户端生成一个随机数3</li></ol></li> <li>客户端将随机值1，随机值2，随机值3生成预备主密钥通过证书的公钥加密，并传送给服务端</li> <li>服务端用自己的私钥进行非对称解密得到客户端密钥</li> <li>服务端用预备主密钥对发送内容进行对称加密发送给客户端。</li> <li>客户端收到服务器发送来的密文，用预备主密钥来对其进行对称解密。得到所需要的数据。</li></ol></li></ol> <h1 id="前端安全"><a href="#前端安全" class="header-anchor">#</a> 前端安全</h1> <h2 id="xss"><a href="#xss" class="header-anchor">#</a> XSS</h2> <ol><li>跨站脚本攻击，攻击者将一段可执行的代码注入到网页中，如链接，输入框，分为持久性和临时性的，持久性的恶意代码将被存储到数据库中，会造成持久的攻击，临时性的仅在当前被攻击页面上生效。</li> <li>防范方式：对与网页上获取的内容要做转义处理</li></ol> <h2 id="csrf"><a href="#csrf" class="header-anchor">#</a> CSRF</h2> <ol><li>跨站请求伪造，构造一个钓鱼网站，利用站点对浏览器的信任，从而欺骗用户发起请求进行恶意操作。</li> <li>把用户的cookies带上，伪造用户身份进行攻击</li> <li>防范方式：
<ol><li>服务端校验Referer，但某些浏览器可能可以修改Referer</li></ol></li></ol> <h1 id="node-和-element"><a href="#node-和-element" class="header-anchor">#</a> NODE 和 ELEMENT</h1> <ol><li>Node是一个基类，DOM中的Element，Text和Comment都继承于它</li> <li>分别叫它们为ELEMENT_NODE和TEXT_NODE和COMMENT_NODE，</li></ol> <h1 id="cookie-2"><a href="#cookie-2" class="header-anchor">#</a> COOKIE</h1> <h1 id="new的原理"><a href="#new的原理" class="header-anchor">#</a> new的原理</h1> <ol><li>new的操作
<ol><li>创建了一个空对象</li> <li>将构造函数的prototype属性赋值给新对象的__ <strong>proto</strong>__ 属性</li> <li>将构造函数的this指向新对象</li> <li>执行构造函数的代码</li> <li>将新对象返回</li></ol></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype
    <span class="token function">Cat</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token keyword">return</span> obj
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'cat1'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> cat<span class="token punctuation">)</span>
</code></pre></div><h1 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h1> <ol><li><p>箭头函数的this指向箭头函数***定义时***离自己最近的不是箭头函数的this</p></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'outer'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">buy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'buy'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">innerCall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;innerCall&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h1 id="防抖和节流"><a href="#防抖和节流" class="header-anchor">#</a> 防抖和节流</h1> <ol><li><p>防抖：一个事件在n秒后执行，如果你在一个事件触发的n秒内又触发了这个事件，那我就以新的事件的事件为准，n秒后才执行。总之，要等你触发完事件n秒后不再触发事件。该事件才执行</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">debounce1</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> timeout<span class="token punctuation">;</span>
    <span class="token keyword">var</span> result<span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">debounced</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span>
      <span class="token keyword">var</span> args <span class="token operator">=</span> arguments
        <span class="token comment">// console.log(&quot;args&quot;, args);</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 让第一次立马执行</span>
        <span class="token keyword">var</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout
          <span class="token comment">// 然后等到停止触发 n 秒后，才可以重新触发执行。</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          timeout <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> debounced
  <span class="token punctuation">}</span>

</code></pre></div><ol start="2"><li><p>节流：如果你持续触发事件，每隔一段时间，只执行一次事件。</p> <p>根据首次是否执行以及结束时是否执行，效果有所不同，实现的方式也有所不同，我们用leading代表首次是否执行，trailing代表结束后是否再执行一次</p> <p>关于节流的实现，有两种主流的实现方式，一种是使用时间戳，一种是设置定时器。</p> <ol><li><p>使用时间戳</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context<span class="token punctuation">,</span> args<span class="token punctuation">;</span>
    <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context <span class="token operator">=</span> <span class="token keyword">this</span>
      args <span class="token operator">=</span> arguments
      <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span>
        previous <span class="token operator">=</span> now
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>第一种事件会立刻执行，  第一种事件停止触发后没有办法再执行事件。</p></li> <li><p>使用定时器</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">throttle1</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context<span class="token punctuation">,</span> args<span class="token punctuation">;</span>
    <span class="token keyword">var</span> timeout
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context <span class="token operator">=</span> <span class="token keyword">this</span>
      args <span class="token operator">=</span> arguments
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span>
          timeout <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>第二种事件会在 n 秒后第一次执行 ，第二种事件停止触发后依然会再执行一次事件 。</p></li> <li><p>双剑合璧</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>鼠标移入能立马执行，停止触发的时候还能执行一次
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context<span class="token punctuation">,</span> args<span class="token punctuation">,</span> result<span class="token punctuation">,</span> timeout<span class="token punctuation">;</span>
    <span class="token keyword">var</span> previous <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        previous <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">var</span> <span class="token function-variable function">throttled</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// 下次触发func 剩余的时间</span>
        <span class="token keyword">var</span> remaining <span class="token operator">=</span> wait <span class="token operator">-</span> <span class="token punctuation">(</span> now <span class="token operator">-</span> previous<span class="token punctuation">)</span>
        context <span class="token operator">=</span> <span class="token keyword">this</span>
        args <span class="token operator">=</span> arguments
         <span class="token comment">// 如果没有剩余的时间了或者你改了系统时间</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>remaining <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> remaining <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
                timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> remaining<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> throttled
<span class="token punctuation">}</span>
</code></pre></div></li></ol></li></ol></li></ol> <h1 id="get和post的区别"><a href="#get和post的区别" class="header-anchor">#</a> GET和POST的区别</h1> <div class="language- extra-class"><pre><code>1. 首先引入等觅和副作用的概念
  	1. 副作用：对服务器上的资源作改变，搜索是无副作用的，注册是副作用的
  	2. 幂等：指发送M和N次请求，服务器上的状态一致，注册10个和11个账号是不幂等的，对文章进行查询10次和11次是幂等的
2. get主要用于无副作用，幂等的场景
3. post主要用于副作用，不幂等的情况
4. get请求能缓存，post不能
5. post请求数据放在body里面，get请求数据放在url里面
6. get请求url长度有限制，主要是看浏览器限制
7. post支持更多的编码类型
    	1. Content-Type: application/json
              	2. Content-Type:  application/x-*www*-form-*urlencoded* 
            	3. Content-Type: multipart/form-data
</code></pre></div><p>vue-router源码：</p> <ol><li><p>首先实现一个install方法</p> <ol><li><p>往this挂载this.$router和this.$route</p></li> <li><p>Vue.mixin({</p> <p>})</p></li> <li><p>注册两个全局组件</p> <div class="language-html extra-class"><pre class="language-html"><code>1. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
2. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 注入 $router $route</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$router'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$route'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>_route <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// beforeCreate mixin</span>
  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">beforeCreate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 判断是否有 router</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 赋值 _router</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_router <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router
        <span class="token comment">// 初始化 init</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token comment">// 定义响应式的 _route 对象</span>
        Vue<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'_route'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span>history<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 注册组件</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'router-view'</span><span class="token punctuation">,</span> View<span class="token punctuation">)</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'router-link'</span><span class="token punctuation">,</span> Link<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>创建match匹配函数</p> <ol><li><p>匹配函数是由src/create-matcher.js中的createMatcher创建的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Regexp <span class="token keyword">from</span> <span class="token string">'path-to-regexp'</span>
<span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouteMap <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./create-route-map'</span>
<span class="token comment">// ...</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createMatcher</span> <span class="token punctuation">(</span><span class="token parameter">routes<span class="token operator">:</span> Array<span class="token operator">&lt;</span>RouteConfig<span class="token operator">&gt;</span></span><span class="token punctuation">)</span><span class="token operator">:</span> Matcher <span class="token punctuation">{</span>
  <span class="token comment">// 创建路由 map</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> pathMap<span class="token punctuation">,</span> nameMap <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createRouteMap</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span>
  <span class="token comment">// 匹配函数</span>
  <span class="token keyword">function</span> <span class="token function">match</span> <span class="token punctuation">(</span>
    <span class="token parameter">raw<span class="token operator">:</span> RawLocation<span class="token punctuation">,</span>
    currentRoute<span class="token operator">?</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
    redirectedFrom<span class="token operator">?</span><span class="token operator">:</span> Location</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Route <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">redirect</span> <span class="token punctuation">(</span>
    <span class="token parameter">record<span class="token operator">:</span> RouteRecord<span class="token punctuation">,</span>
    location<span class="token operator">:</span> Location</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Route <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">alias</span> <span class="token punctuation">(</span>
    <span class="token parameter">record<span class="token operator">:</span> RouteRecord<span class="token punctuation">,</span>
    location<span class="token operator">:</span> Location<span class="token punctuation">,</span>
    matchAs<span class="token operator">:</span> string</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Route <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">_createRoute</span> <span class="token punctuation">(</span>
    <span class="token parameter">record<span class="token operator">:</span> <span class="token operator">?</span>RouteRecord<span class="token punctuation">,</span>
    location<span class="token operator">:</span> Location<span class="token punctuation">,</span>
    redirectedFrom<span class="token operator">?</span><span class="token operator">:</span> Location</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> Route <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>record <span class="token operator">&amp;&amp;</span> record<span class="token punctuation">.</span>redirect<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> redirectedFrom <span class="token operator">||</span> location<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>record <span class="token operator">&amp;&amp;</span> record<span class="token punctuation">.</span>matchAs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">alias</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> location<span class="token punctuation">,</span> record<span class="token punctuation">.</span>matchAs<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">createRoute</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> location<span class="token punctuation">,</span> redirectedFrom<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 返回</span>
  <span class="token keyword">return</span> match
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>

</code></pre></div></li> <li><p>继续来看src/create-route-map.js中的createRouteMap函数</p> <ol><li>可以看出主要做的事情就是根据用户路由配置对象生成普通的path来对应的路由记录以及根据name来对应的路由记录的map，方便后续匹配对应</li></ol> <div class="language-vue extra-class"><pre class="language-vue"><code>/* @flow */

import { assert, warn } from './util/warn'
import { cleanPath } from './util/path'

// 创建路由 map
export function createRouteMap (routes: Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteConfig</span><span class="token punctuation">&gt;</span></span>): {
  pathMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span>,
  nameMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span>
} {
  // path 路由 map
  const pathMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span> = Object.create(null)
  // name 路由 map
  const nameMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span> = Object.create(null)
  // 遍历路由配置对象 增加 路由记录
  routes.forEach(route =&gt; {
    addRouteRecord(pathMap, nameMap, route)
  })

  return {
    pathMap,
    nameMap
  }
}

// 增加 路由记录 函数
function addRouteRecord (
  pathMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span>,
  nameMap: Dictionary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RouteRecord</span><span class="token punctuation">&gt;</span></span>,
  route: RouteConfig,
  parent?: RouteRecord,
  matchAs?: string
) {
  // 获取 path 、name
  const { path, name } = route
  assert(path != null, `&quot;path&quot; is required in a route configuration.`)
  // 路由记录 对象
  const record: RouteRecord = {
    path: normalizePath(path, parent),
    components: route.components || { default: route.component },
    instances: {},
    name,
    parent,
    matchAs,
    redirect: route.redirect,
    beforeEnter: route.beforeEnter,
    meta: route.meta || {}
  }
  // 嵌套子路由 则递归增加 记录
  if (route.children) {
// ...
    route.children.forEach(child =&gt; {
      addRouteRecord(pathMap, nameMap, child, record)
    })
  }
  // 处理别名 alias 逻辑 增加对应的 记录
  if (route.alias !== undefined) {
    if (Array.isArray(route.alias)) {
      route.alias.forEach(alias =&gt; {
        addRouteRecord(pathMap, nameMap, { path: alias }, parent, record.path)
      })
    } else {
      addRouteRecord(pathMap, nameMap, { path: route.alias }, parent, record.path)
    }
  }
  // 更新 path map
  pathMap[record.path] = record
  // 更新 name map
  if (name) {
    if (!nameMap[name]) {
      nameMap[name] = record
    } else {
      warn(false, `Duplicate named routes definition: { name: &quot;${name}&quot;, path: &quot;${record.path}&quot; }`)
    }
  }
}

function normalizePath (path: string, parent?: RouteRecord): string {
  path = path.replace(/\/$/, '')
  if (path[0] === '/') return path
  if (parent == null) return path
  return cleanPath(`${parent.path}/${path}`)
}
</code></pre></div></li> <li><h4 id="router-init"><a href="#router-init" class="header-anchor">#</a> router.init</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* @flow */</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> install <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./install'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createMatcher <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./create-matcher'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HashHistory<span class="token punctuation">,</span> getHash <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./history/hash'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HTML5History<span class="token punctuation">,</span> getLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./history/html5'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AbstractHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./history/abstract'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> inBrowser<span class="token punctuation">,</span> supportsHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./util/dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> assert <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./util/warn'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
  <span class="token function">init</span> <span class="token punctuation">(</span>app<span class="token operator">:</span> any <span class="token comment">/* Vue component instance */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>app <span class="token operator">=</span> app

    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history

    <span class="token keyword">if</span> <span class="token punctuation">(</span>history <span class="token keyword">instanceof</span> <span class="token class-name">HTML5History</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span><span class="token function">getLocation</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span>base<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>history <span class="token keyword">instanceof</span> <span class="token class-name">HashHistory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span><span class="token function">getHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'hashchange'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          history<span class="token punctuation">.</span><span class="token function">onHashChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>	
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    history<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token parameter">route</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span>_route <span class="token operator">=</span> route
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div></li></ol></li></ol> <h1 id="vue原理"><a href="#vue原理" class="header-anchor">#</a> Vue原理</h1> <ol><li>广度优先遍历还是深度优先遍历？为什么
<ol><li>是广度优先算法</li></ol></li> <li>virtual dom 解决的问题
<ol><li>virtual dom是什么</li> <li>virtual dom的好处</li></ol></li> <li>MVVM 和 MVC的比较
<ol><li>MVVM怎么实现的</li></ol></li></ol> <h1 id="vue生命周期"><a href="#vue生命周期" class="header-anchor">#</a> Vue生命周期</h1> <h1 id="react-shadow-dom"><a href="#react-shadow-dom" class="header-anchor">#</a> React Shadow Dom</h1> <h1 id="洋葱模型解决的问题"><a href="#洋葱模型解决的问题" class="header-anchor">#</a> 洋葱模型解决的问题</h1> <h1 id="react-redux"><a href="#react-redux" class="header-anchor">#</a> React-redux</h1> <h1 id="es5es6es7的区别"><a href="#es5es6es7的区别" class="header-anchor">#</a> ES5	ES6	ES7的区别</h1> <ol><li>async await 和 Promise 的区别</li></ol> <h1 id="babel-和-webpack的区别"><a href="#babel-和-webpack的区别" class="header-anchor">#</a> Babel 和 Webpack的区别</h1> <h1 id="react-和-vue-的区别"><a href="#react-和-vue-的区别" class="header-anchor">#</a> React 和 Vue 的区别</h1> <h1 id="函数的四种调用模式及this指向"><a href="#函数的四种调用模式及this指向" class="header-anchor">#</a> 函数的四种调用模式及this指向</h1> <ol><li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 函数调用模式</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// window</span>
</code></pre></div></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code></code></pre></div></li></ol> <p>// 方法调用模式
var obj = {
func: function () {</p> <div class="language- extra-class"><pre><code>       console.log(this)
   }
</code></pre></div><p>}</p> <p>obj.func() // obj</p> <p>var func = obj.func
func() // window</p> <div class="language- extra-class"><pre class="language-text"><code>
3. ```javascript
// 上下文调用模式
var arrayLike = {
    0: 'zs',
    1: 'ls',
    2: 'ww',
    length: 3
}

Array.prototype.push.call(arrLike, 'Darren')
 
</code></pre></div><ol start="4"><li><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 特殊的</span>
事件中的<span class="token keyword">this</span> 指向当前元素
setTimeout 中的<span class="token keyword">this</span> 指向window
</code></pre></div></li> <li><div class="language-javascript extra-class"><pre class="language-javascript"><code></code></pre></div></li></ol> <p>function fn() {
const fn1 = () =&gt; {
console.log(this)
}
fn1()
return () =&gt; {
console.log(this, 'this2')
}
}
let obj = {
name: &quot;Darren&quot;
}
fn().call(obj)</p> <div class="language- extra-class"><pre class="language-text"><code>





# window.onload / $(document).ready/ DOMContentLoaded

1. $(document).ready() 表示dom内容加载完毕 = window.addEventListener(&quot;DOMContentLoaded&quot;, function(){})
2. window.onload 表示页面上的所有资源（图片，音频，视频）被加载以后才会触发load事件。



# TCP/UDP对比

|              | UDP                                        | TCP                              |
| ------------ | ------------------------------------------ | -------------------------------- |
| 是否连接     | 无连接                                     | 面向连接                         |
| 是否可靠     | 不可靠传输，不可使用流量控制和拥塞控制     | 可靠传输，使用流量控制和拥塞控制 |
| 连接对象个数 | 支持一对一，一对多，多对一和多对多交互通信 | 只能是一对一通信                 |
| 传输方式     | 面向报文                                   | 面向字节流                       |
| 首部开销     | 首部开销小，仅8字节                        | 首部最小20字节，最大60字节       |
| 场景         | 适用于实时应用，（IP电话，直播，视频会议） | 文件传输                         |

# AMD/CMD/CommonJs/ES6 module

1. AMD

1. AMD一开始是CommonJS规范中的一个草案，全称是Asynchronous Module Definition , 即异步模块加载机制，后来该草案的作者以RequireJS实现了AMD规范，所以一般说AMD也是指RequireJS

2. ```javascript
   // a.js
   // define 可以传入三个参数、分别是字符串--模块名，数组--依赖模块，函数--回调函数
   define(function (){
       return 1
   })
   
   // b.js
   // 数组中声明需要加载的模块，可以是模块名，js文件路径
   require(['a'], function (a) {
       console.log(a) // 1
   })
   
   ```

3. 特点

   1. 对于依赖的模块，AMD推崇依赖前置，提前执行，也就是说，在define方法里传入的依赖模块（数组），会在一开始就下载并执行。

2. CMD

1. CMD是Seajs在推广过程中生产的对模块定义的规范，在Web浏览器端的模块加载器中，SeaJS与RequireJS并称，SeaJS作者为阿里的玉伯

2. ```javascript
   // a.js
   /* 
    * define接受factory参数，factory可以为一个参数，也可以是一个对象或者字符串
    * factory为对象时、字符串时，表示模块的接口就是该对象或者字符串
    * define也接受两个以上的参数，字符串id表示模块标识，数组deps是模块依赖
   */
   
   define(function(require, exports, module) {
       var $ = require(&quot;jquery&quot;);
       
       exports.setColor = function() {
           $('body').css(&quot;color&quot;, &quot;green&quot;)
       };
   })
   
   // b.js
   seajs.use(['a'], function(){
       $(&quot;#el&quot;).click(a.setColor)
   })
   
   ```

3. 特点

   1. 对于依赖的模块，CMD推崇依赖就近，延迟执行，也就是说，只有到require时依赖模块才执行。

3. CommonJS

1. CommonJS规范为CommonJS小组所提出，目的时弥补Javascript在服务器端缺少模块化机制，NodeJS、Webpack都是基于该规范来实现的。

2. ```javascript
   // a.js 
   module.export = function() {
       console.log(&quot;hello world&quot;)
   }
   
   // b.js
   var a = require(&quot;a.js&quot;)
   a(); // hello world
   
   
   // or
   
   // a2.js
   exports.num = 1
   exports.obj = {
       name: 'DARREN'
   }
   
   // b2.js
   
   var a2 = require(&quot;a2.js&quot;)
   console.log(a2) {num:1， obj: { name: &quot;DARREN&quot;}}
   ```

3. </code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/https:/github.com/a92560/continous-study/" class="prev router-link-active">
        首页
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="https://github.com/a92560/continous-study/assets/js/app.6c513e7b.js" defer></script><script src="https://github.com/a92560/continous-study/assets/js/2.4824bcf7.js" defer></script><script src="https://github.com/a92560/continous-study/assets/js/6.41b10bb9.js" defer></script>
  </body>
</html>
